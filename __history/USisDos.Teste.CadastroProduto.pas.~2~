unit USisDos.Teste.CadastroProduto;

interface

uses
  DUnitX.TestFramework,
  USisDos.Tela.CadastroProduto;

type
  [TestFixture]
  TestCadastroProduto = class
  private
    FCadastroProduto : TTelaCadastroProduto;
    procedure Test1;
  public
    [Setup]
    procedure Setup;
    [TearDown]
    procedure TearDown;
    // Sample Methods
    // Simple single Test
    [Test]
    [TestCase('Teste Cadastro Produto - 1','1,ABC,10')]
    [TestCase('Teste Cadastro Produto - 2','2,DEF,20')]
    procedure SetProduto(ACodigo, ADesc : string; Apreco: double);
    // Test with TestCase Attribute to supply parameters.
    [Test]
    [TestCase('TestA','1,2')]
    [TestCase('TestB','3,4')]
    procedure Test2(const AValue1 : Integer;const AValue2 : Integer);
  end;

implementation

procedure TestCadastroProduto.SetProduto(ACodigo, ADesc: string; Apreco: double);
begin
  FCadastroProduto.SetProduto(ACodigo,ADesc, Apreco);
  Assert.IsTrue(FCadastroProduto.GetProduto.FCodigo    = ACodigo , 'OK');
  Assert.IsTrue(FCadastroProduto.GetProduto.FDescricao = ADesc   , 'OK');
  Assert.IsTrue(FCadastroProduto.GetProduto.FPreco     = Apreco  , 'OK');
end;

procedure TestCadastroProduto.Setup;
begin
  FCadastroProduto := TTelaCadastroProduto.Create;
end;

procedure TestCadastroProduto.TearDown;
begin
  FCadastroProduto.Free;
end;

procedure TestCadastroProduto.Test1;
begin
end;

procedure TestCadastroProduto.Test2(const AValue1 : Integer;const AValue2 : Integer);
begin
end;

initialization
  TDUnitX.RegisterTestFixture(TestCadastroProduto);

end.
