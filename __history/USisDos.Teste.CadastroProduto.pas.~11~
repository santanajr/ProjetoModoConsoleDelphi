unit USisDos.Teste.CadastroProduto;

interface

uses
  System.SysUtils,
  DUnitX.TestFramework,
  USisDos.Tela.ICriarTelaProduto,
  USisDos.Tela.CriarTelaProduto;

type
  [TestFixture]
  TestCadastroProduto = class
  private
    FCadastroProduto : ICriarTelaProduto;
  public
    [Setup]
    procedure Setup;
    [TearDown]
    procedure TearDown;
    // Sample Methods
    // Simple single Test
    [Test]
    [TestCase('Teste Cadastro Produto - GetProdutoVazio - 1','1,ABC,10')]
    [TestCase('Teste Cadastro Produto - GetProdutoVazio - 2','2,DEF,20')]
    procedure GetProdutoVazio(ACodigo, ADesc : string; Apreco: double) ;

    [Test]
    [TestCase('Teste Cadastro Produto - GetProdutoPreenchido - 1','1,ABC,10')]
    [TestCase('Teste Cadastro Produto - GetProdutoPreenchido - 2','2,DEF,20')]
    procedure GetProdutoPreenchido(ACodigo, ADesc : string; Apreco: double) ;


    [Test]
    [TestCase('Teste Cadastro Produto - SetProduto - 1','1,ABC,10')]
    [TestCase('Teste Cadastro Produto - SetProduto - 2','2,DEF,20')]
    procedure SetProduto(ACodigo, ADesc : string; Apreco: double);

    [Test]
    [Ignore('Tela de cadastro em modo prompt não precisa')]
    procedure  CriarTelaCadastroProduto;

    [Test]
    [Ignore]
    procedure  MensagemDesejaContinuar;

    [Test]
    [Ignore]
    procedure  GetOpcaoEscolhida;

    [Test]
    [Ignore]
    procedure  GetListaProduto;
   end;

implementation

procedure TestCadastroProduto.CriarTelaCadastroProduto;
begin

end;

procedure TestCadastroProduto.GetListaProduto;
begin

end;

procedure TestCadastroProduto.GetOpcaoEscolhida;
begin

end;


procedure TestCadastroProduto.GetProdutoPreenchido(ACodigo, ADesc: string; Apreco: double);
begin
  FCadastroProduto.SetProduto(ACodigo, ADesc, Apreco);
  Assert.IsTrue(FCadastroProduto.GetProduto.FCodigo    = Acodigo , 'O codigo do produto não está vazio');
  Assert.IsTrue(FCadastroProduto.GetProduto.FDescricao = ADesc   , 'A Descricao do produto não está vazia');
  Assert.IsTrue(FCadastroProduto.GetProduto.FPreco     = Apreco  , 'O valor do produto nao é zero');
end;

procedure TestCadastroProduto.GetProdutoVazio(ACodigo, ADesc : string; Apreco: double);
begin
  Assert.IsTrue(FCadastroProduto.GetProduto = nil, 'O Produto não existe');
end;

procedure TestCadastroProduto.MensagemDesejaContinuar;
begin

end;

procedure TestCadastroProduto.SetProduto(ACodigo, ADesc: string; Apreco: double);
begin
  FCadastroProduto.SetProduto(ACodigo,ADesc, Apreco);
  Assert.IsTrue(FCadastroProduto.GetProduto.FCodigo    = ACodigo , 'Os código são diferentes');
  Assert.IsTrue(FCadastroProduto.GetProduto.FDescricao = ADesc   , 'A descrição é diferente');
  Assert.IsTrue(FCadastroProduto.GetProduto.FPreco     = Apreco  , 'O Valor do produto é diferente');
end;

procedure TestCadastroProduto.Setup;
begin
  FCadastroProduto := TTelaCriarTelaProduto.Create;
end;

procedure TestCadastroProduto.TearDown;
begin
end;

initialization
  TDUnitX.RegisterTestFixture(TestCadastroProduto);
end.
